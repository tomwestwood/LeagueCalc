<mat-card class="upload-file-card">
  <mat-card-subtitle>Please upload a .csv file with the appropriate headings.</mat-card-subtitle>
  <mat-card-title>UPLOAD FILE</mat-card-title>
  <mat-card-content>
    <input type="file" (change)="uploadFile($event)" accept=".csv" />
  </mat-card-content>
  <mat-divider inset></mat-divider>
  <mat-card-actions>
    <button mat-button [disabled]="!file" (click)="calculateLeagueFromFile()">CALCULATE LEAGUE</button>
    <button mat-button [disabled]="!file">CANCEL</button>
  </mat-card-actions>
  <mat-card-footer>
    <mat-progress-bar *ngIf="loading" mode="indeterminate"></mat-progress-bar>
  </mat-card-footer>
</mat-card>

<mat-table [dataSource]="leagueTable" *ngIf="leagueTable && !loading" class="mat-elevation-z8" matSort matSortActive="position" matSortDirection="asc">
  <mat-header-row *matHeaderRowDef="displayedColumns;"></mat-header-row>
  <mat-row *matRowDef="let element; columns: displayedColumns"></mat-row>
  <ng-container matColumnDef="teamPosition">
    <mat-header-cell *matHeaderCellDef mat-sort-header>Position</mat-header-cell>
    <mat-cell *matCellDef="let element">{{element.teamPosition}}</mat-cell>
  </ng-container>
  <ng-container matColumnDef="teamName">
    <mat-header-cell *matHeaderCellDef mat-sort-header>Team</mat-header-cell>
    <mat-cell *matCellDef="let element">{{element.teamName}}</mat-cell>
  </ng-container>
  <ng-container matColumnDef="goalsScored">
    <mat-header-cell *matHeaderCellDef mat-sort-header>GF</mat-header-cell>
    <mat-cell *matCellDef="let element">{{element.goalsScored}}</mat-cell>
  </ng-container>
  <ng-container matColumnDef="goalsConceded">
    <mat-header-cell *matHeaderCellDef mat-sort-header>GA</mat-header-cell>
    <mat-cell *matCellDef="let element">{{element.goalsConceded}}</mat-cell>
  </ng-container>
  <ng-container matColumnDef="goalDifference">
    <mat-header-cell *matHeaderCellDef mat-sort-header>GD (+/-)</mat-header-cell>
    <mat-cell *matCellDef="let element">{{element.goalDifference}}</mat-cell>
  </ng-container>
  <ng-container matColumnDef="points">
    <mat-header-cell *matHeaderCellDef mat-sort-header>Points</mat-header-cell>
    <mat-cell *matCellDef="let element">{{element.points}}</mat-cell>
  </ng-container>
  <ng-container matColumnDef="options">
    <mat-header-cell *matHeaderCellDef>Options</mat-header-cell>
    <mat-cell *matCellDef="let element">
      <button mat-raised-button color="primary" (click)="showResults(element)">Show results</button>
    </mat-cell>
  </ng-container>
</mat-table>
